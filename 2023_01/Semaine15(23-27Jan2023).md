**20 Janvier**
- [x] Réponse aux demandes nulles d'Evelyne sur les excel monteurs
- [ ] Objectif du jour : Réaliser un docker file / docker compose qui lance un keycloak / angular simple
    - [x] Rectifier l'écriture du dockerfile angular
        - [x] Rebuild de l'image & tentative de run
    - [x] Reprise de doc
        - [x] Check de (https://github.com/andreaskring/fastapi-keycloak-angular/blob/master/docker-compose.yml)
        - [x] Check de doc docker (https://docs.docker.com/get-started/09_image_best/) & (https://docs.docker.com/get-started/08_using_compose/) & (https://docs.docker.com/get-started/07_multi_container/)
- [ ] Reprise étape par étape
    - [x] Suivi de projet de (https://github.com/andreaskring/fastapi-keycloak-angular/tree/master/angular) pour comparaison
    - [ ] Modification de l'architecture pour correspondre
        - [x] Reprise du dockerfile angular : 
        ```
        # syntax=docker/dockerfile:1
        FROM node:18-alpine

        WORKDIR /app-angular-keycloak
        # WORKDIR /

        ENV PATH /app-angular-keycloak/node_modules/.bin:$PATH

        # install and cache app dependencies
        # COPY package.json .
        # RUN npm install
        # RUN npm install -g @angular/cli@7.3.9

        COPY ./app-angular-keycloak/package.json ./
        COPY ./app-angular-keycloak/package-lock.json ./
        RUN npm install

        COPY ./angular ./
        RUN npm run build
        ```
        - [ ] Réorganisation du projet
            - [x] Création d'un dossier docker
            - [x] Renommage du dockerfile en Dockerfile.angular et déplacement dans le dossier docker             
        - [x] Lancement de la commande ``` docker build -t templategithubactionsAngular .``` et echec avec message :
        ```
        invalid argument "templategithubactionsAngular" for "-t, --tag" flag: invalid reference format: repository name must be lowercase
        ```
        - [x] Lancement de la commande rectifiée ``` docker build -t templategithubactionsangular .```  et echec avec message 
        ```
        unable to prepare context: unable to evaluate symlinks in Dockerfile path: CreateFile C:\Users\gchevalier\TemplateGitHubActions\docker\Dockerfile: The system cannot find the file specified.
        ```
        - [x] Check de (https://stackoverflow.com/questions/35511604/docker-unable-to-prepare-context-unable-to-evaluate-symlinks-in-dockerfile-pa) et précision avec -f du nomp exact avec file ext
        - [x] Check de (https://docs.docker.com/engine/context/working-with-contexts/) pour comprendre comment aller dire où chercher le package.json quand il est dans un autre dossier & (https://stackoverflow.com/questions/72650546/docker-build-command-cant-find-package-json) pour plus de compréhension du contexte et de son application dans le docker compose
        - [x] Retour dans le dossier racine et lancement de la commande rectifiée ```docker build -t templategithubactionsangular -f ./docker/Dockerfile.angular .```  et build successful
        - [x] Note : dans le dockerfile : ```COPY ./app-angular-keycloak/package.json ./``` ne va pas chercher depuis le dossier racine, mais depuis le dossier *d'où est lancée la commande docker!*
        - [ ] Run de l'image buildée avec ```docker run --name leisure-goat -dp 3000:3000 templategithubactionsangular``` et echec avec retour console :
        ```
        Error: This command is not available when running the Angular CLI outside a workspace.
        The command '/bin/sh -c npm run build' returned a non-zero code: 1
        ```
    - [ ] Voir comment organiser les images avec le docker compose


**20 Janvier**
- [ ] Objectif du jour : réaliser un lancement opérationnel de docker/keycloak/angular depuis un docker-compose
    - [x] Check du realm.json de keycloak dans le projet exemple
    - [ ] Générer un json à partir de l'état d'un keycloak
        - [ ] Check de (https://www.keycloak.org/server/importExport)
    - [ ] Reprise de doc sur docker-compose