**16 Janvier**
- [x] Modifications page d'accueil keycloak
    - [x] Intégrer l'image définitive
        - [x] Récupération de l'image du mail et import dans le dossier
        - [x] Redimensionnement
    - [x] Ajustement css : proportions
    - [x] Ajustement css : responsive
    - [x] Commit & push
- [ ] Reprise du projet atmos
- [ ] Objectif : Réaliser le déploiement du projet atmos 
    - [ ] Renseignement sur la CI CD
        - [ ] Poursuite de recherches sur la CI
        - [ ] Poursuite de recherches sur le lien github actions & docker 
            - [x] Renseignement sur ce qu'est le registry (https://codefresh.io/docs/docs/integrations/docker-registries/github-container-registry/#:~:text=The%20GitHub%20Container%20Registry%20allows,and%20your%20Docker%20image%20public.)
            - [x] GitHub's Docker registry (which used the namespace docker.pkg.github.com) has been replaced by the Container registry (which uses the namespace https://ghcr.io)
            - [x] Docker compose (https://docs.docker.com/compose/compose-file/build/)
    - [ ] Créer un projet CI CD sur github avec les actions
        - [ ] Créer un keycloak simple
            - [x] Créer l'image docker du keycloak, suivi de (https://www.keycloak.org/getting-started/getting-started-docker)
                - [x] Commande :
                ```
                docker run -p 8080:8080 -e KEYCLOAK_ADMIN=admin -e KEYCLOAK_ADMIN_PASSWORD=admin quay.io/keycloak/keycloak:20.0.3 start-dev
                ```
            - [x] Connexion au 127.0.0.1:8080
            - [x] Création d'un realm nommé : angular-keycloak-testRealm. Un realm permet d'isoler des groupes d'applications & d'utilisateurs. Le realm master ne doit pas supporter d'application, il n'est pas fait pour
            - [x] Création d'un user :
            g.chevalier
            pw123
            - [x] Connection à http://localhost:8080/realms/angular-keycloak-testRealm/account/#/ avec les ids
            - [x] Sécurisation de l'application
                - [x] Création d'un client client_test_1 avec options Authentication flow
                x Standard flow
                x Direct access grants
                Access settings :
                Valid redirect url
                https://www.keycloak.org/app/*
                web origins
                https://www.keycloak.org
            - [ ] Configuration serveur & sources de keycloak
                - [ ] Check de (https://www.keycloak.org/server/configuration)
        - [x] Créer un angular simple
            - [x] Suivi de (https://levelup.gitconnected.com/keycloak-in-angular-application-980260b4b196)
                - [x] Check des versions installées de node & npm : 18.12.1 & 9.2.0
                - [x] Installation de 
                ```
                npm install @angular/cli
                npm install @angular-devkit/architect
                npm install @angular-devkit/build-angular
                npm install @angular-devkit/core
                npm install @angular-devkit/schematics
                npm install @schematics/angular
                npm install rxjs
                npm install typescript
                ```
                - [x] Création de l'application angular
                ```
                ng new app-angular-keycloak
                share to google : no
                add angular routing : yes
                css
                ```
                - [x] Positionnement dans le dossier angular & install keycloak
                ```
                cd .\app-angular-keycloak\
                npm install keycloak-angular keycloak-js
                ```
                - [x] Création dans le dossier app/src/verify-sso.html
                ```
                <html>
                    <body>
                        <script>
                            parent.postMessage(location.href, location.origin);
                        </script>
                    </body>
                </html>
                ```
                - [x] ng build
            - [ ] Créer l'image docker de l'angular
            - [ ] Lier l'angular au keycloak
        - [ ] Créer un nest simple
            - [ ] Créer l'image docker le nest
            - [ ] Lier le nest à l'angular
            - [ ] Lier le nest au keycloak
    - [ ] Déploiement sur AWS
    - [ ] Construire les images docker
        - [ ] Reprise de doc sur docker buildx build 
        - [ ] Construction image keycloak 
        - [ ] Construction image client 
        - [ ] Construction image serveur 


**17 Janvier**
- [ ] Objectif : Réaliser le déploiement du projet atmos 
    - [ ] Renseignement sur la CI CD
        - [ ] Poursuite de recherches sur la CI
        - [ ] Poursuite de recherches sur le lien github actions & docker 
    - [ ] Créer un projet CI CD sur github avec les actions
        - [ ] Créer un keycloak simple
            - [ ] Configuration serveur : côté aws
                - [x] Check de (https://www.keycloak.org/server/configuration)
                Tout se fera par ligne de commande, à intégrer dans le docker final
            - [ ] Créer l'image docker de l'angular
            - [ ] Lier l'angular au keycloak
                - [x] Client = application
                - [x] Création d'un client keycloak : 
                OpenID Connect
                app-angular-keycloak
                app-angular-keycloak
                Un test de lien entre keycloak et une application angular
                Always display : Off
                - [x] Options d'access settings :
                Root URL : x
                Home URL : x
                Valid redirect URIs : http://localhost:4200/
                Valid post .. : x
                Web origins : http://localhost:4200/
                - [x] Essai d'accès au projet angular depuis https://www.keycloak.org/app/ avec les ids :
                keycloak url : http://localhost:8080
                realm : angular-keycloak-testRealm
                client : app-angular-keycloak
                Puis sign in : 
                ```
                We are sorry...
                Invalid parameter: redirect_uri

                « Back to Application
                ```
                Le paramètre "Home URL" renseigne l'adresse à rediriger sur le lien "Back to Application" qui n'apparaît que si le champ est renseigné
        - [ ] Créer un nest simple
            - [ ] Créer l'image docker le nest
            - [ ] Lier le nest à l'angular
            - [ ] Lier le nest au keycloak
    - [ ] Déploiement sur AWS
    - [ ] Construire les images docker
        - [ ] Reprise de doc sur docker buildx build 
        - [ ] Construction image keycloak 
        - [ ] Construction image client 
        - [ ] Construction image serveur 


**18 Janvier**
- [ ] Objectif : Réaliser le déploiement du projet atmos 
    - [ ] Poursuite de la documentation keycloak
        - [x] Check de (https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/composite.html) 
    - [ ] Renseignement sur la CI CD
        - [ ] Poursuite de recherches sur la CI
        - [ ] Poursuite de recherches sur le lien github actions & docker 
    - [ ] Créer un projet CI CD sur github avec les actions
        - [ ] Créer un keycloak simple
            - [ ] Créer l'image docker de l'angular
            - [ ] Lier l'angular au keycloak
                - [ ] Trouver comment rediriger automatiquement vers l'appli voulue à la connexion de l'user
        - [ ] Créer un nest simple
            - [ ] Créer l'image docker le nest
            - [ ] Lier le nest à l'angular
            - [ ] Lier le nest au keycloak
    - [ ] Déploiement sur AWS
    - [ ] Construire les images docker
        - [ ] Reprise de doc sur docker buildx build 
        - [ ] Construction image keycloak 
        - [ ] Construction image client 
        - [ ] Construction image serveur 
