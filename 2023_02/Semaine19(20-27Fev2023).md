**20 Février**
- [ ] Poursuite démarrage du KMO-Predict
    - [ ] Maquettage de l'application
        - [ ] Vue accueil
            - [x] Ajouter un bouton télécharger le csv
                - [x] Check de (https://v13.material.angular.io/components/tabs/overview) pour intégrer bouton et dropdown/infos avec un mat tab
                - [x] Ajout de :
                ```
                <mat-tab-group>
                    <mat-tab label="First"> Content 1 </mat-tab>
                    <mat-tab label="Second"> Content 2 </mat-tab>
                    <mat-tab label="Third"> Content 3 </mat-tab>
                </mat-tab-group>
                ```
                dans le code
                - [x] Recherche sur l'erreur error NG8001: 'mat-tab' is not a known element
                - [x] Import du module avec 
                ```
                import { MatTabsModule } from '@angular/material/tabs';
                ```
            - [x] Ajouter un dropdown
            - [x] Régler le problème de trier par
                - [x] Rajout de ``` mat-sort-header``` dans le < th > de chaque < ng-container >
            - [x] Régler le problème du lien vers la vue cop au clic de la table
                - [x] Déplacement du ``` routerLink="/cop"``` dans le < td > de chaque < ng-container >
        - [x] Ajout d'une boite de dialog au clic du téléchargement
            - [x] Check de (https://v13.material.angular.io/components/snack-bar/overview)
            - [x] Application au code : 
                - [x] Import du module dans l'app.ts
                - [x] Ajout du code html
                - [x] ajout de la fonction dans le .ts :
                ```
                openSnackBar() {
                    this._snackBar.open("Téléchargement en cours ...", "X");
                }
                ```
                et appel à la fonction dans le code html
        - [ ] Définir l'intégration des metadatas des gateways dans la vue cop
            - [ ] Réunion avec Guillaume
    - [ ] Repasser sur l'initialisation du turborepo
    - [ ] Repasser sur l'initialisation du backend
- [x] Réunion quotidienne, bilan :
    - [x] Modifier la vue accueil pour n'avoir que deux tabs ; gateways & caisses avec bouton télécharger
    - [x] Modifier la vue cop pour avoir la possibilité de changer l'état de la caisse en live
        - [x] Check de (https://material.angular.io/components/select/overview#adding-custom-styles-to-the-dropdown-panel)
        - [x] Ajout du code exemple : 
        ```
        <mat-form-field appearance="fill">
            <mat-label>Panel color</mat-label>
            <mat-select [formControl]="panelColor"
                        panelClass="example-panel-{{panelColor.value}}">
                <mat-option value="red">Red</mat-option>
                <mat-option value="green">Green</mat-option>
                <mat-option value="blue">Blue</mat-option>
            </mat-select>
            </mat-form-field>
        ```
        et reprise pour accomodation : 
        ```
        <div ><mat-card (click)="openDialog()" class="hover:bg-gray-100" matBadge="1">
            <div>Caisse 4 </div> 
            <div class="pt-2"><mat-form-field appearance="fill">
                <mat-label>État de la caisse</mat-label>
                <mat-select [formControl]="panelState2"
                            panelClass="example-panel-{{panelColor.value}}">
                  <mat-option value="red">R.À.S</mat-option>
                  <mat-option value="green">Maintenance préventive</mat-option>
                  <mat-option value="blue">Maintenance curative</mat-option>
                </mat-select>
              </mat-form-field></div>            
        </mat-card></div>
        ```
        - [x] Ajout des imports requis :
        ```
        MatFormFieldModule,
        MatSelectModule,
        MatOptionModule,
        ```
    - [ ] Modifier la vue magasin pour que le client ait la possibilité de changer l'état de la caisse en live
    - [x] Écrire un document how-to sur le processus à suivre pour l'écriture des tests et du code
        - [x] Check de (https://igm.univ-mlv.fr/~dr/XPOSE2009/TDD/pagesHTML/PresentationTDD.html#:~:text=La%20mise%20en%20place%20de,du%20d%C3%A9veloppement%20d%27un%20logiciel.&text=On%20remarque%20g%C3%A9n%C3%A9ralement%20que%20les,que%20les%20tests%20seront%20%C3%A9crits)
        - [x] Documentation
        - [x] Écriture du document pilote
    - [ ] Mettre en place & configurer l’outil de test
    

**21 Février**
- [x] Les gâteaux ! Miam miam miam miam les petits gâteaux
- [ ] Poursuite démarrage du KMO-Predict
    - [x] Maquettage de l'application
        - [x] Vue accueil
        - [ ] Définir l'intégration des metadatas des gateways dans la vue cop
            - [ ] Réunion avec Guillaume
    - [ ] Initialisations
    - [ ] Repasser sur l'initialisation du turborepo
    - [ ] Repasser sur l'initialisation du backend
    - [x] Pull le projet à jour
    - [ ] Nettoyer le projet de karma
        - [x] Suppression de tous les appels à karma dans le package.json
        - [x] Suppression de tous les appels à karma dans le package-lock.json
        - [x] Suppression du fichier karma.conf.js
        - [x] Check de (https://docs.npmjs.com/cli/v6/commands/npm-uninstall) & (https://blog.ineat-group.com/2019/04/angular-remplacer-karma-jasmine-par-jest)
        - [x] Exécution (front & back) des commandes :
        ```
        npm remove karma karma-chrome-launcher karma-coverage-istanbul-reporter karma-jasmine karma-jasmine-html-reporter --force
        npm install -D jest @angular-builders/jest @types/jest --force
        ```
        - [x] (front) Modification des compilerOptions dans le fichier tsconfig.spec.ts :
        ```
        {
            "module": "commonjs",
            "outDir": "../out-tsc/spec",
            "types": ["jest"]
        }
        ```
        - [x] (front) Modification du champ "test" dans le angular.json :
        ```
        "builder": "@angular-builders/jest:run"
        "karmaConfig": "karma.conf.js", X=X suppression
        ```
        - [x] (front) création d'un fichier jest.config.js rempli comme suit : 
        ```
        const {defaults} = require('jest-config');
        
        
        module.exports = {
        verbose: true,
        collectCoverage: true,
        collectCoverageFrom: ["src/**/*.ts"]
        }
        ```
        - [x] Lancement de ```ng test``` et retour d'erreur :
        ```
        Schema validation failed with the following errors:
        Data path "/main" must be array.
        ```
        - [x] Suppression du dossier node_modules et ```npm i```, sans effet
        - [x] (back) :
        ```
        npm i --save-dev @nestjs/testing
        ``` 
        - [ ] Résolution des erreurs 
        ```
        npm ERR! code ERESOLVE
        npm ERR! ERESOLVE unable to resolve dependency tree
        npm ERR!
        npm ERR! While resolving: kmo-predict-back@0.0.1
        npm ERR! Found: @nestjs/common@8.4.7
        npm ERR! node_modules/@nestjs/common
        npm ERR!   @nestjs/common@"^8.0.0" from kmo-predict-back@0.0.1
        npm ERR!   apps/kmo-predict-back
        npm ERR!     kmo-predict-back@0.0.1
        npm ERR!     node_modules/kmo-predict-back
        npm ERR!       workspace apps\kmo-predict-back from the root project
        npm ERR! 
        npm ERR! Could not resolve dependency:
        npm ERR! peer @nestjs/common@"^9.0.0" from @nestjs/swagger@6.2.1
        npm ERR! node_modules/@nestjs/swagger
        npm ERR!   @nestjs/swagger@"^6.2.1" from kmo-predict-back@0.0.1
        npm ERR!     kmo-predict-back@0.0.1
        npm ERR!     node_modules/kmo-predict-back
        npm ERR!       workspace apps\kmo-predict-back from the root project
        ```
        - [x] ```git reset --hard```, merge de le KP-75 et pull develop
        - [x] ```ng v``` renvoie :
        ```
        Angular CLI: 13.2.6
        Node: 18.12.1 (Unsupported)
        Package Manager: npm 9.2.0
        OS: win32 x64

        Angular: 13.2.7
        Warning: The current version of Node (18.12.1) is not supported by Angular.
        ```
        - [ ] Upgrade à Angular 15
            - [x] Check de (https://update.angular.io/?v=13.0-15.0)
            - [ ] Upgrade à Angular 14 avec ```ng update @angular/core@14 @angular/cli@14```
    - [ ] Initialiser le framework de test